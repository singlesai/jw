{"version":3,"file":"js/196.3687986b.js","mappings":"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","sources":["webpack://tico-yt-mobile/./src/components/page/SendList.vue","webpack://tico-yt-mobile/./src/components/page/SendList.vue?e2fc"],"sourcesContent":["<template>\r\n    <div>\r\n        <van-nav-bar left-text=\"返回\" left-arrow :title=\"title\"  @click-left=\"$router.go(-1)\">\r\n        </van-nav-bar>\r\n        <van-search v-model=\"strFilter\" aria-placeholder=\"请输入搜索关键词\" show-action @search=\"onSearch\" @cancel=\"onCancel\"/>\r\n        <template v-for=\"(rec,idx) in data\" :key=\"idx\">\r\n          <!--van-divider>{{rec.name}}[{{rec.project_id[1]}}]</van-divider-->\r\n          <van-card :num=\"rec.actual_received_line_ids.length\" :title=\"rec.name\" :desc=\"rec.project_id?rec.project_id[1]:''\">\r\n            <template #tags>\r\n              <van-tag plain v-if=\"rec.stock_id[1]\">{{rec.stock_id[1]}}</van-tag>\r\n              <van-tag plain v-if=\"rec.partner_id[1]\">{{rec.partner_id[1]}}</van-tag>\r\n              <van-tag plain v-if=\"rec.sale_id[1]\">{{rec.sale_id[1]}}</van-tag>\r\n            </template>\r\n            <template #footer>\r\n              <van-button size=\"mini\" @click=\"onAddDest(rec.id)\">编辑</van-button>\r\n              <van-button size=\"mini\" @click=\"onDel(rec.id)\">删除</van-button>\r\n            </template>\r\n          </van-card>\r\n        </template>\r\n        \r\n        <!--van-cell v-for=\"(rec,idx) in data\" :key=\"idx\" center is-link :title=\"rec.name\" :label=\"rec.project_id[1]\" :value=\"rec.transport_waybill_count\" :url=\"'./index.html#/sendlist?sid='+rec.id\">\r\n        </van-cell-->\r\n        <van-divider v-if=\"right===false\">无权限</van-divider>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast, Dialog } from 'vant'\r\nimport odooApi from '@/srv'\r\nexport default {\r\n  name: 'sendList',\r\n  data () {\r\n    return {\r\n      title: '历史签收',\r\n      sid: 0,\r\n      ordNo: '',\r\n      right: false,\r\n      data: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.onSearch()\r\n  },\r\n  methods: {\r\n    async onSearch () {\r\n      Toast.loading({forbidClick: true, duration: 0})\r\n      try {\r\n        this.right = await odooApi.model('stock.return.received').checkAccessRights()\r\n        if(this.right) {\r\n          var domain = []\r\n          if (this.strFilter) {\r\n            domain.push('|')\r\n            domain.push(['name', 'ilike', this.strFilter])\r\n            domain.push('|')\r\n            domain.push(['project_id', 'ilike', this.strFilter])\r\n            domain.push(['stock_id.name', 'ilike', this.strFilter])\r\n          }\r\n          this.data = await odooApi.model('stock.return.received').searchRead(domain, ['name', 'partner_id', 'project_id', 'stock_id', 'sale_id', 'actual_received_line_ids'], 0, 100, 'create_date desc')\r\n          /*\r\n          var ids = []\r\n          for(var idx in this.data) {\r\n            ids = ids.concat(this.data[idx].order_line)\r\n          }\r\n          var entry = await odooApi.model('stock.return.plan.line').read(ids)\r\n          for(idx in this.data) {\r\n            this.data[idx].entry = entry.filter(rec => { return rec.order_id[0] === this.data[idx].id})\r\n          }\r\n          */\r\n        }\r\n        Toast.clear()\r\n      } catch (ex) {\r\n        Toast.clear()\r\n        Toast.fail(ex.message || ex)\r\n      }\r\n    },\r\n    onDel (id) {\r\n      Dialog.confirm({\r\n        title: '删除',\r\n        message: '确定删除记录？'\r\n      }).then(()=>{\r\n        console.log(id)\r\n      }).catch(()=>{\r\n\r\n      })\r\n    },\r\n    onAddDest (rec) {\r\n      this.$router.push('./sendrec?id=' + rec)\r\n      console.log(rec)\r\n    },\r\n    onCancel () {\r\n      this.strFilter = ''\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./SendList.vue?vue&type=template&id=7f88111c\"\nimport script from \"./SendList.vue?vue&type=script&lang=js\"\nexport * from \"./SendList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\code\\\\jw\\\\tico-yt-mobile\\\\node_modules\\\\_vue-loader@17.0.1@vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_createVNode","_component_van_nav_bar","title","$data","onClickLeft","_ctx","go","_component_van_search","onSearch","$options","onCancel","_Fragment","rec","idx","_createBlock","_component_van_card","num","actual_received_line_ids","length","name","desc","project_id","tags","stock_id","_component_van_tag","plain","partner_id","sale_id","footer","_component_van_button","size","onClick","id","_component_van_divider","key","data","sid","ordNo","right","mounted","this","methods","async","Toast","forbidClick","duration","odooApi","checkAccessRights","domain","strFilter","push","searchRead","ex","message","onDel","Dialog","then","console","log","catch","onAddDest","$router","__exports__","render"],"sourceRoot":""}